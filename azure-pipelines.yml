# Docker
# Build and push an image to Azure Container Registry
# https://docs.microsoft.com/azure/devops/pipelines/languages/docker

trigger:
- azure-pipelines

resources:
- repo: self

 
stages:
- stage: Build
  displayName: Build and push stage
  jobs:  
  - job: Build
    displayName: Build
    steps:
    - task: FortifySCA@7
      inputs:
        applicationType: 'other'
        fortifyBuildId: 'webgoat'
        runFortifyRulepackUpdate: false
        fortifyScanType: 'LocalScan'
        runBuildTranslate: true
        buildToolOptions: 'mvn com.fortify.sca.plugins.maven:sca-maven-plugin:translate'
        runFortifyClean: true
        scaVerbose: false
        scaDebug: false
        runFortifyScan: true
        fortifyApplicationName: 'EightBall'
        fortifyApplicationVersion: '1'   

    